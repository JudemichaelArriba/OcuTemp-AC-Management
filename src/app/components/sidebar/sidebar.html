<aside
  class="border-r border-gray-200 flex flex-col bg-white shrink-0 justify-between h-screen rounded-xl shadow-lg overflow-hidden
         w-16 md:w-64 transition-all duration-300"
>

  <div class="p-5 flex items-center gap-3 border-b border-gray-100 md:px-5 px-3">
    <div class="size-9 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center shadow-md shadow-blue-300/40 shrink-0">
      <span class="material-symbols-outlined text-white text-lg">thermostat</span>
    </div>
    <div class="hidden md:block">
      <h1 class="text-base font-bold leading-none tracking-tight text-gray-900">OcuTemp</h1>
      <p class="text-[8.5px] font-semibold uppercase tracking-widest text-blue-600/70 mt-1">
        IoT Admin Panel
      </p>
    </div>
  </div>

 
  <nav class="flex-1 px-3 py-4 space-y-1 overflow-y-auto">

    <a
      class="relative flex items-center gap-3 px-3 py-2.5 text-gray-600
             hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100/50
             hover:text-blue-700 rounded-lg transition-all group
             md:justify-start justify-center"
      [routerLink]="['/app/dashboard']"
      routerLinkActive="bg-gradient-to-r from-blue-50 to-blue-100/50 !text-blue-700 font-medium"
      [title]="'Dashboard'"
    >
      <span class="material-symbols-outlined text-[18px] group-hover:scale-110 transition-transform">
        dashboard
      </span>
      <span class="text-[13px] font-semibold hidden md:inline" routerLinkActive="!font-bold">
        Dashboard
      </span>
      <span class="ml-auto w-2 h-2 rounded-full bg-blue-600 animate-pulse hidden" routerLinkActive="md:!block"></span>
      <span
        class="absolute left-0 top-0 h-full w-[3px] bg-gradient-to-b from-blue-600 to-blue-500 rounded-l-full hidden"
        routerLinkActive="!block"
      ></span>
    </a>


    <a
      class="relative flex items-center gap-3 px-3 py-2.5 text-gray-600
             hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100/50
             hover:text-blue-700 rounded-lg transition-all group
             md:justify-start justify-center"
      [routerLink]="['/app/room-management']"
      routerLinkActive="bg-gradient-to-r from-blue-50 to-blue-100/50 !text-blue-700 font-medium"
      [title]="'Room Management'"
    >
      <span class="material-symbols-outlined text-[18px] group-hover:scale-110 transition-transform">
        meeting_room
      </span>
      <span class="text-[13px] font-semibold hidden md:inline" routerLinkActive="!font-bold">
        Room Management
      </span>
      <span class="ml-auto w-2 h-2 rounded-full bg-blue-600 animate-pulse hidden" routerLinkActive="md:!block"></span>
      <span
        class="absolute left-0 top-0 h-full w-[3px] bg-gradient-to-b from-blue-600 to-blue-500 rounded-l-full hidden"
        routerLinkActive="!block"
      ></span>
    </a>

  
    <a
      class="relative flex items-center gap-3 px-3 py-2.5 text-gray-600
             hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100/50
             hover:text-blue-700 rounded-lg transition-all group
             md:justify-start justify-center"
      [routerLink]="['/app/energy-reports']"
      routerLinkActive="bg-gradient-to-r from-blue-50 to-blue-100/50 !text-blue-700 font-medium"
      [title]="'Energy Reports'"
    >
      <span class="material-symbols-outlined text-[18px] group-hover:scale-110 transition-transform">
        bar_chart
      </span>
      <span class="text-[13px] font-semibold hidden md:inline" routerLinkActive="!font-bold">
        Energy Reports
      </span>
      <span class="ml-auto w-2 h-2 rounded-full bg-blue-600 animate-pulse hidden" routerLinkActive="md:!block"></span>
      <span
        class="absolute left-0 top-0 h-full w-[3px] bg-gradient-to-b from-blue-600 to-blue-500 rounded-l-full hidden"
        routerLinkActive="!block"
      ></span>
    </a>

 
    <a
      *ngIf="isAdmin()"
      class="relative flex items-center gap-3 px-3 py-2.5 text-gray-600
             hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100/50
             hover:text-blue-700 rounded-lg transition-all group
             md:justify-start justify-center"
      [routerLink]="['/app/user-management']"
      routerLinkActive="bg-gradient-to-r from-blue-50 to-blue-100/50 !text-blue-700 font-medium"
      [title]="'User Management'"
    >
      <span class="material-symbols-outlined text-[18px] group-hover:scale-110 transition-transform">
        group
      </span>
      <span class="text-[13px] font-semibold hidden md:inline" routerLinkActive="!font-bold">
        User Management
      </span>
      <span class="ml-auto w-2 h-2 rounded-full bg-blue-600 animate-pulse hidden" routerLinkActive="md:!block"></span>
      <span
        class="absolute left-0 top-0 h-full w-[3px] bg-gradient-to-b from-blue-600 to-blue-500 rounded-l-full hidden"
        routerLinkActive="!block"
      ></span>
    </a>

  
    <div class="pt-3 pb-2">
      <div class="h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent"></div>
    </div>


    <a
      class="relative flex items-center gap-3 px-3 py-2.5 text-gray-600
             hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100/50
             hover:text-blue-700 rounded-lg transition-all group
             md:justify-start justify-center"
      [routerLink]="['/app/settings']"
      routerLinkActive="bg-gradient-to-r from-blue-50 to-blue-100/50 !text-blue-700 font-medium"
      [title]="'Settings'"
    >
      <span class="material-symbols-outlined text-[18px] group-hover:scale-110 transition-transform">
        settings
      </span>
      <span class="text-[13px] font-semibold hidden md:inline" routerLinkActive="!font-bold">
        Settings
      </span>
      <span class="ml-auto w-2 h-2 rounded-full bg-blue-600 animate-pulse hidden" routerLinkActive="md:!block"></span>
      <span
        class="absolute left-0 top-0 h-full w-[3px] bg-gradient-to-b from-blue-600 to-blue-500 rounded-l-full hidden"
        routerLinkActive="!block"
      ></span>
    </a>
  </nav>



  <div class="border-t border-gray-100 p-3">
    <ng-container *ngIf="currentUser$ | async as currentUser; else loadingUser">
      <div
        class="relative flex items-center gap-3 p-3 rounded-xl
              bg-gradient-to-br from-gray-50/50 to-white
              border border-gray-100/80
              hover:shadow-md hover:shadow-blue-100/50
              hover:border-blue-200/60
              cursor-pointer transition-all duration-300
              group
              md:flex-row flex-col md:gap-3 gap-2"
      >
        <div class="relative shrink-0">
          <div class="absolute -inset-0.5 bg-gradient-to-br from-blue-600 to-blue-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 blur-sm"></div>
          <div
            class="relative w-10 h-10 rounded-full bg-gradient-to-br from-blue-600 to-blue-500 
                  text-white font-bold flex items-center justify-center
                  shadow-md shadow-blue-200/50
                  ring-2 ring-white
                  group-hover:scale-105 transition-transform duration-300"
          >
            {{ getUserInitials(currentUser) }}
          </div>

          <div class="absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-emerald-500 rounded-full border-2 border-white shadow-sm"></div>
        </div>

        <div class="flex-1 overflow-hidden hidden md:block">
          <p class="text-[13px] font-bold text-gray-900 truncate leading-tight group-hover:text-blue-700 transition-colors">
            {{ currentUser.fullName }}
          </p>
          <p class="text-[10.5px] font-semibold text-gray-500 truncate mt-0.5 uppercase tracking-wide">
            {{ currentUser.role }}
          </p>
        </div>

        <div class="hidden md:block opacity-0 group-hover:opacity-100 transition-opacity">
          <span class="material-symbols-outlined text-gray-400 text-[16px]">chevron_right</span>
        </div>
      </div>
    </ng-container>


    <ng-template #loadingUser>
      <div
        class="relative flex items-center gap-3 p-3 rounded-xl
              bg-gray-100/50 animate-pulse
              border border-gray-100/80
              md:flex-row flex-col md:gap-3 gap-2"
      >
        <div class="w-10 h-10 rounded-full bg-gray-300"></div>
        <div class="flex-1 hidden md:block space-y-2">
          <div class="h-3 w-24 bg-gray-300 rounded"></div>
          <div class="h-2 w-16 bg-gray-200 rounded"></div>
        </div>
      </div>
    </ng-template>
  </div>


</aside>